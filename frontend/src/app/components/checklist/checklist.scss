// Estilos do Checklist (foco em clareza e fácil customização)
// Use variáveis simples; pode migrar para theming do Taiga se quiser depois

$color-bg: #0f1115;
$color-surface: #1b1f24;
$color-border: #2c323a;
$color-accent: #4fb477;
$color-accent-soft: rgba(79,180,119,0.15);
$color-text: #e6e8ea;
$color-text-dim: #9aa0a6;
$color-danger: #f06272;

.checklist-wrapper {
	display: flex;
	flex-direction: column;
	gap: 1.25rem;
	background: linear-gradient(145deg, $color-surface 0%, #14181d 70%);
	padding: 1.5rem clamp(1rem, 2vw, 2rem);
	border: 1px solid $color-border;
	border-radius: 1rem;
	box-shadow: 0 4px 18px -6px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.02) inset;
	color: $color-text;
}

.checklist-header {
	display: flex;
	flex-wrap: wrap;
	gap: .75rem 1.25rem;
	align-items: center;
	justify-content: space-between;
	border-bottom: 1px solid $color-border;
	padding-bottom: .75rem;

	h2 {
		margin: 0;
		font-size: 1.25rem;
		font-weight: 600;
		letter-spacing: .5px;
	}
}

.progress {
	display: flex;
	align-items: center;
	gap: .5rem;
	font-size: .85rem;

	&__value {
		background: $color-accent-soft;
		color: $color-accent;
		padding: .25rem .6rem;
		border-radius: 999px;
		font-weight: 600;
		font-variant-numeric: tabular-nums;
		transition: background .3s;
	}
}

// Accordion
.phases {
	--tui-radius-l: .85rem;
	--tui-base-01: $color-surface; // override leve
	--tui-base-02: lighten($color-surface, 3%);
	--tui-base-03: $color-border;
	--tui-text-01: $color-text;
	--tui-text-02: $color-text-dim;
}

.phase-header {
	display: flex;
	align-items: center;
	gap: .75rem;
	width: 100%;

	&__title {
		flex: 1;
		font-weight: 500;
	}

	&__status {
		font-size: .75rem;
		padding: .25rem .55rem;
		border: 1px solid $color-border;
		border-radius: .5rem;
		color: $color-text-dim;
	}

	&__badge {
		margin-left: .25rem;
	}

	&--done .phase-header__title {
		text-decoration: line-through;
		color: $color-accent;
	}
}

.phase-body {
	padding: .5rem .25rem .75rem;
}

.items {
	list-style: none;
	margin: 0 0 .75rem;
	padding: 0;
	display: flex;
	flex-direction: column;
	gap: .35rem;
}

.item {
	background: rgba(255,255,255,0.02);
	border: 1px solid $color-border;
	border-radius: .65rem;
	padding: .5rem .75rem;
	position: relative;
	transition: border-color .25s, background .25s;

	&:hover {
		border-color: $color-accent;
		background: rgba(79,180,119,0.08);
	}

	&__row {
		display: flex;
		align-items: center;
		gap: .75rem;
		cursor: pointer;
		font-size: .9rem;
		font-weight: 500;
	}

	&__label {
		flex: 1;
		line-height: 1.2;

		&--done {
			text-decoration: line-through;
			color: $color-text-dim;
			opacity: .7;
		}
	}

	&__hint {
		display: block;
		margin: .35rem 0 0 1.9rem; // alinhado ao texto após checkbox
		font-size: .7rem;
		letter-spacing: .3px;
		color: $color-text-dim;
	}
}

.phase-actions {
	display: flex;
	gap: .5rem;
	flex-wrap: wrap;
}

.empty {
	margin: 0 0 .75rem;
	font-size: .8rem;
	color: $color-text-dim;
	font-style: italic;
}

.checklist-footer {
	display: flex;
	justify-content: flex-end;
	padding-top: .5rem;
	border-top: 1px solid $color-border;
}

/* === NOVO LAYOUT (fase em barras + conteúdo separado) === */
.phase-bars {
	display: flex;
	flex-direction: column;
	gap: .5rem;
	margin-bottom: 1rem;
}

.phase-bar {
	display: flex;
	align-items: center;
	gap: .75rem;
	background: rgba(255,255,255,0.04);
	border: 1px solid $color-border;
	border-radius: .75rem;
	padding: .55rem .85rem;
	cursor: pointer;
	text-align: left;
	font-size: .9rem;
	font-weight: 500;
	color: $color-text;
	transition: background .25s, border-color .25s, box-shadow .25s;

	&:hover:not(:disabled) {
		background: rgba(255,255,255,0.06);
		border-color: $color-accent;
	}

	&:disabled {
		cursor: not-allowed;
		opacity: .4;
	}

	&--active {
		background: $color-accent-soft;
		border-color: $color-accent;
		box-shadow: 0 0 0 1px $color-accent inset;
	}

	&--done:not(&--active) {
		background: rgba(79,180,119,0.12);
		border-color: rgba(79,180,119,0.6);
	}

	&__title {
		flex: 1;
	}
}

.phase-content {
	border: 1px solid $color-border;
	border-radius: 1rem;
	padding: 1rem 1.25rem 1.25rem;
	background: radial-gradient(circle at 25% 12%, rgba(255,255,255,0.04), transparent 70%),
						 linear-gradient(160deg, rgba(255,255,255,0.05), rgba(0,0,0,0));
	position: relative;
	animation: contentIn .35s ease;
}

@keyframes contentIn {
	from { opacity: 0; transform: translateY(6px); }
	to { opacity: 1; transform: translateY(0); }
}

.phase-item {
	display: flex;
	flex-direction: column;
	gap: .25rem;
	padding: .65rem .75rem .55rem;
	background: rgba(255,255,255,0.02);
	border: 1px solid $color-border;
	border-radius: .65rem;
	position: relative;
	transition: border-color .25s, background .25s;

	&:hover {
		border-color: $color-accent;
		background: rgba(79,180,119,0.08);
	}

	&__label { font-weight: 500; }

	&__label--done { text-decoration: line-through; color: $color-text-dim; opacity: .7; }

	&__hint { font-size: .65rem; color: $color-text-dim; letter-spacing: .3px; }
}

.phase-content__items {
	display: flex;
	flex-direction: column;
	gap: .5rem;
	margin-bottom: 1rem;
}

.phase-content__actions { display: flex; gap: .5rem; flex-wrap: wrap; }

.hint { font-size: .8rem; color: $color-text-dim; font-style: italic; margin: .5rem 0 0; }

/* === Inline por fase (conteúdo logo abaixo da barra) === */
.phase-groups { display: flex; flex-direction: column; gap: .75rem; }

.phase-group { display: flex; flex-direction: column; gap: .5rem; }

.phase-inline {
	margin-top: -.25rem;
	border: 1px solid $color-border;
	border-radius: .85rem;
	padding: .85rem 1rem 1rem;
	background: linear-gradient(140deg, rgba(255,255,255,0.05), rgba(0,0,0,0)), #161a1f;
	animation: contentIn .3s ease;
}

.phase-inline__items { display: flex; flex-direction: column; gap: .55rem; margin-bottom: .75rem; }

.phase-inline__actions { display: flex; gap: .5rem; flex-wrap: wrap; }

// Responsividade simples
@media (max-width: 680px) {
	.checklist-header {
		flex-direction: column;
		align-items: flex-start;
	}
	.phase-header__status {
		display: none; // economiza espaço
	}
}

