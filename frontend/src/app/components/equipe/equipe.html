<ng-template #socialLinks let-membro>
  <div class="social-links">
    <a *ngIf="membro.linkedin" [href]="membro.linkedin" target="_blank" aria-label="LinkedIn">
      <img src="assets/linkedin.svg"
           [attr.width]="membro.coordenacao ? 28 : 18"
           [attr.height]="membro.coordenacao ? 28 : 18"
           [attr.alt]="'LinkedIn ' + membro.nome" />
    </a>

    <a *ngIf="membro.lattes" [href]="membro.lattes" target="_blank" aria-label="Lattes">
      <img src="assets/lattes.png"
           [attr.width]="membro.coordenacao ? 28 : 18"
           [attr.height]="membro.coordenacao ? 28 : 18"
           [attr.alt]="'Lattes ' + membro.nome" />
    </a>
  </div>
</ng-template>

<section *ngIf="coordenacao?.length" class="coordenacao">
  <h2 class="section-title">COORDENAÇÃO</h2>
  <div class="grid-container">
    <div *ngFor="let membro of coordenacao" class="feature-card coord">
      <div class="coord-media">
        <img [src]="membro.avatar" [alt]="membro.nome" />
      </div>

      <div class="coord-body">
        <div class="coord-top">
          <h3>{{ membro.nome }}</h3>
          <p class="cargo">{{ membro.cargo }}</p>
          <p *ngIf="membro.descricao" class="descricao">{{ membro.descricao }}</p>
        </div>

        <ng-container *ngTemplateOutlet="socialLinks; context: { $implicit: membro }"></ng-container>
      </div>
    </div>
  </div>
</section>

<section *ngIf="equipeRestante?.length">
  <h2 class="section-title">EQUIPE</h2>
  <div class="grid-container">
    <div *ngFor="let membro of equipeRestante" class="feature-card">
      <div class="feature-icon" [style.background-color]="membro.cor">
        <img [src]="membro.avatar" [alt]="membro.nome" />
      </div>

      <h3>{{ membro.nome }}</h3>
      <p class="cargo">{{ membro.cargo }}</p>
      <p *ngIf="membro.descricao">{{ membro.descricao }}</p>

      <ng-container *ngTemplateOutlet="socialLinks; context: { $implicit: membro }"></ng-container>
    </div>
  </div>
</section>